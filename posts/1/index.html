<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        ProofOfConcept ::
        docEdub — Music to my eyes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="&amp;ldquo;ProofOfConcept&amp;rdquo; is my first virtual reality scene. I made it to prove out the tech stack I chose for making real-time music-driven VR experiences for web browsers.
It works in the Oculus Quest 2 browser and most desktop browsers.

"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://docEdub.com/posts/1/" />





<link rel="stylesheet" href="https://docEdub.com/assets/style.css" />

<link rel="stylesheet" href="https://docEdub.com/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://docEdub.com/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://docEdub.com/img/favicon.png" />


<link href="https://docEdub.com/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://docEdub.com/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://docEdub.com/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://docEdub.com/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://docEdub.com/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://docEdub.com/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://docEdub.com/posts/1/preview.jpg"/>

<meta name="twitter:title" content="ProofOfConcept"/>
<meta name="twitter:description" content="&ldquo;ProofOfConcept&rdquo; is my first virtual reality scene. I made it to prove out the tech stack I chose for making real-time music-driven VR experiences for web browsers.
It works in the Oculus Quest 2 browser and most desktop browsers.
"/>



<meta property="og:title" content="ProofOfConcept" />
<meta property="og:description" content="&ldquo;ProofOfConcept&rdquo; is my first virtual reality scene. I made it to prove out the tech stack I chose for making real-time music-driven VR experiences for web browsers.
It works in the Oculus Quest 2 browser and most desktop browsers.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docEdub.com/posts/1/" /><meta property="og:image" content="https://docEdub.com/posts/1/preview.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-10-25T00:00:00+00:00" /><meta property="og:site_name" content="docEdub" />




<link rel="stylesheet" href="/css/custom.css">

  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="https://docEdub.com/"
  class="logo"
  style="text-decoration: none;"
>
  
    <img src="/img/docEdub.svg" alt="docEdub" />
    
</a>

    <span class="header__right">
      <span>
    <style>
        #social-buttons {display: inline-block; vertical-align: middle; }
        #social-buttons:after {content: ""; display: block; clear: both;}
        #social-buttons > a {
        position: relative;
        text-align: left; 
        height: 36px; 
        width: 32px; 
        float: left; 
        text-align: center;
        }
        #social-buttons > a > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
        #social-buttons > a:hover {cursor: pointer;}
        #social-buttons > a.facebook > svg {height: 18px; margin-top: 9px;}
        #social-buttons > a.twitter > svg {height: 20px; margin-top: 8px;}
        #social-buttons > a.twitch > svg {height: 20px; margin-top: 9px; margin-left: -8px;}
        #social-buttons > a.patreon > svg {height: 24px; margin-top: 6px;}
        #social-buttons > a.facebook:hover > svg {fill: #3B5998;}
        #social-buttons > a.twitter:hover > svg {fill: #55ACEE;}
        #social-buttons > a.twitch:hover > svg {fill: #9146FF;}
        #social-buttons > a.patreon:hover > svg {fill: rgb(255, 66, 77);}
    </style>
    <div id="social-buttons">
        <a class="twitter" href="https://twitter.com/docEdub">
            <svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/>
            </svg>
        </a>
        <a class="twitch" href="https://www.twitch.tv/doc_e_dub">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 2400 2800">
                <path d="M500,0L0,500v1800h600v500l500-500h400l900-900V0H500z M2200,1300l-400,400h-400l-350,350v-350H600V200h1600V1300z"/>
                <rect x="1700" y="550" width="200" height="600"/>
                <rect x="1150" y="550" width="200" height="600"/>
            </svg>
        </a>
        <a class="patreon" href="https://www.patreon.com/docEdub">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 180">
                <path d="M108.8135992 26.06720125c-26.468266 0-48.00213212 21.53066613-48.00213212 47.99733213 0 26.38653268 21.53386613 47.85426547 48.00213213 47.85426547 26.38639937 0 47.8530655-21.4677328 47.8530655-47.85426547 0-26.466666-21.46666613-47.99733213-47.85306547-47.99733213" />
                <path d="M23.333335 153.93333178V26.0666679h23.46666576v127.8666639z" />
            </svg>            
        </a>
        <a class="facebook" href="https://www.facebook.com/pages/category/Artist/docEdub-337227660803857/">
            <svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/>
            </svg>
        </a>
    </div>
</span>

      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">ProofOfConcept</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-10-25
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <p><a href="/1/">&ldquo;ProofOfConcept&rdquo;</a> is my first virtual reality scene. I made it to prove out the tech stack I chose for making real-time music-driven VR experiences for web browsers.</p>
<p>It works in the Oculus Quest 2 browser and most desktop browsers.</p>
<p><a href="/1/"><img src="/posts/1/preview.jpg" alt="&ldquo;ProofOfConcept&rdquo; preview image"></a></p>
<hr>
<h2 id="instructions">Instructions</h2>
<p>It takes a little time for the music get going so don&rsquo;t turn up the volume too soon. Also note that the
closer you get to the objects the music is coming from, the louder the music will get.</p>
<p>When the scene first loads you might see a button in the top left to unmute the sound. Click it to start the music.</p>
<p>If a VR device is available you&rsquo;ll see a button in the bottom right for entering VR mode.</p>
<p>To look around on desktop and mobile devices, click and drag the mouse or drag your finger on the screen.</p>
<p>On desktop devices, press the <code>WASD</code> or arrow keys to move. Hold down the <code>Shift</code> or <code>Space</code> key to move faster, or use <code>Caps Lock</code>.</p>
<p>On VR devices, use the thumbstick to teleport.</p>
<hr>
<h2 id="technical-details">Technical details</h2>
<h4 id="javascript">Javascript</h4>
<p>I used two Javascript libraries: <a href="//csound.com">Csound</a> for audio and <a href="//babylonjs.com">Babylon.js</a> for graphics.</p>
<table>
<thead>
<tr>
<th>Library</th>
<th>Version</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="//csound.com">Csound</a></td>
<td><a href="//npmjs.com/package/@doc.e.dub/csound-browser/v/6.17.0-beta5">6.17.0-beta5</a></td>
<td>1.9 MB</td>
</tr>
<tr>
<td><a href="//babylonjs.com">Babylon.js</a></td>
<td><a href="//www.npmjs.com/package/babylonjs/v/4.2.0">4.2.0</a></td>
<td>749 kB</td>
</tr>
</tbody>
</table>
<p>My custom Javascript compresses to 116 kB. Source code is <a href="//github.com/docEdub/WorksInProgress/tree/Projects/1-ProofOfConcept">here</a>.</p>
<h4 id="audio">Audio</h4>
<p>The audio is generated in realtime using the <a href="//github.com/csound/csound/tree/feature/webaudio-csound/wasm">WASM version of Csound</a>. For the realtime graphics people out there, Csound is kind of like shaders for audio. In a browser
it runs on the CPU in a separate <a href="//developer.mozilla.org/en-US/docs/Web/API/AudioWorklet">AudioWorklet</a> thread.</p>
<p>For the positional audio I reimplemented <a href="//github.com/GoogleChrome/omnitone">Google&rsquo;s Omnitone library</a> in Csound. It works pretty well and allows me to use a lot more sound sources than I can with other methods.</p>
<p>My composing workflow went like this:</p>
<ol>
<li>Sequence music in <a href="//www.reaper.fm/">Reaper</a> DAW with plugins generated by <a href="//cabbageaudio.com/">Cabbage</a> from my Csound scripts.</li>
<li>Bounce DAW settings and plugins to a monolithic Csound file using the steps listed <a href="//github.com/docEdub/WorksInProgress/tree/Projects/1-ProofOfConcept/Projects/1-ProofOfConcept#bounce-reaper-projects-to-monolith-csound-csd">here</a>.</li>
<li>Copy/paste the monolithic Csound file and its corresponding JSON file into the Babylon.js project.</li>
</ol>
<h4 id="graphics">Graphics</h4>
<p>The graphics are handled by <a href="//github.com/BabylonJS/Babylon.js">Babylon.js</a>. The JSON file generated by the
bounced Csound script contains info needed for synchronizing the graphics to the audio. I tried sending messages directly from Csound to the graphics engine in realtime but they got bottlenecked so I embedded them into the project&rsquo;s Javascript as JSON instead.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Meshes</td>
<td>59</td>
</tr>
<tr>
<td>Draw calls</td>
<td>7</td>
</tr>
<tr>
<td>Lights</td>
<td>1</td>
</tr>
<tr>
<td>Vertices</td>
<td>26953</td>
</tr>
<tr>
<td>Materials</td>
<td>13</td>
</tr>
<tr>
<td>Textures</td>
<td>7</td>
</tr>
</tbody>
</table>
    </div>
    
      
    

    
      
        


<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
position: relative;
text-align: left; 
height: 36px; 
width: 32px; 
float: left; 
text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<hr>
<span style="color: silver;">Share </span><div id="share-buttons">
<div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/intent/tweet?text=ProofOfConcept&url=https:\/\/docEdub.com\/posts\/1\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
<div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https:\/\/docEdub.com\/posts\/1\/&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
<div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https:\/\/docEdub.com\/posts\/1\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
<div class="pinterest" title="Share this on Pinterest" onclick="window.open('https://pinterest.com/pin/create/button/?url=&media=https:\/\/docEdub.com\/posts\/1\/preview.jpg&description=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M256 597q0-108 37.5-203.5t103.5-166.5 152-123 185-78 202-26q158 0 294 66.5t221 193.5 85 287q0 96-19 188t-60 177-100 149.5-145 103-189 38.5q-68 0-135-32t-96-88q-10 39-28 112.5t-23.5 95-20.5 71-26 71-32 62.5-46 77.5-62 86.5l-14 5-9-10q-15-157-15-188 0-92 21.5-206.5t66.5-287.5 52-203q-32-65-32-169 0-83 52-156t132-73q61 0 95 40.5t34 102.5q0 66-44 191t-44 187q0 63 45 104.5t109 41.5q55 0 102-25t78.5-68 56-95 38-110.5 20-111 6.5-99.5q0-173-109.5-269.5t-285.5-96.5q-200 0-334 129.5t-134 328.5q0 44 12.5 85t27 65 27 45.5 12.5 30.5q0 28-15 73t-37 45q-2 0-17-3-51-15-90.5-56t-61-94.5-32.5-108-11-106.5z"/></svg></div>
<div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=https:\/\/docEdub.com\/posts\/1\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>
<hr>


      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="https://docEdub.com/"
  class="logo"
  style="text-decoration: none;"
>
  
    <img src="/img/docEdub.svg" alt="docEdub" />
    
</a>

      <div class="copyright">
        <span
          >© 2021 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="https://docEdub.com/assets/main.js"></script>
<script src="https://docEdub.com/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
